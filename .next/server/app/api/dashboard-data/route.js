"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard-data/route";
exports.ids = ["app/api/dashboard-data/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard-data%2Froute&page=%2Fapi%2Fdashboard-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard-data%2Froute.ts&appDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard-data%2Froute&page=%2Fapi%2Fdashboard-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard-data%2Froute.ts&appDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ashrafkholeif_Projects_nzm_nazeem_enterprise_platform_src_app_api_dashboard_data_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/dashboard-data/route.ts */ \"(rsc)/./src/app/api/dashboard-data/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard-data/route\",\n        pathname: \"/api/dashboard-data\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard-data/route\"\n    },\n    resolvedPagePath: \"/Users/ashrafkholeif/Projects/nzm/nazeem-enterprise-platform/src/app/api/dashboard-data/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ashrafkholeif_Projects_nzm_nazeem_enterprise_platform_src_app_api_dashboard_data_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard-data/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQtZGF0YSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGFzaGJvYXJkLWRhdGElMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkYXNoYm9hcmQtZGF0YSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFzaHJhZmtob2xlaWYlMkZQcm9qZWN0cyUyRm56bSUyRm5hemVlbS1lbnRlcnByaXNlLXBsYXRmb3JtJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFzaHJhZmtob2xlaWYlMkZQcm9qZWN0cyUyRm56bSUyRm5hemVlbS1lbnRlcnByaXNlLXBsYXRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL25hemVlbS1lbnRlcnByaXNlLXBsYXRmb3JtLz81NzRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9hc2hyYWZraG9sZWlmL1Byb2plY3RzL256bS9uYXplZW0tZW50ZXJwcmlzZS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9kYXNoYm9hcmQtZGF0YS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGFzaGJvYXJkLWRhdGEvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kYXNoYm9hcmQtZGF0YVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGFzaGJvYXJkLWRhdGEvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYXNocmFma2hvbGVpZi9Qcm9qZWN0cy9uem0vbmF6ZWVtLWVudGVycHJpc2UtcGxhdGZvcm0vc3JjL2FwcC9hcGkvZGFzaGJvYXJkLWRhdGEvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Rhc2hib2FyZC1kYXRhL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard-data%2Froute&page=%2Fapi%2Fdashboard-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard-data%2Froute.ts&appDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/dashboard-data/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/dashboard-data/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n\n// Create admin client with service role key to bypass RLS\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://asmwfazlcejxozdwnieb.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\nasync function GET(request) {\n    try {\n        // Get the access token from the Authorization header\n        const authHeader = request.headers.get(\"authorization\");\n        let organizationId = null;\n        if (authHeader && authHeader.startsWith(\"Bearer \")) {\n            const token = authHeader.substring(7); // Remove \"Bearer \" prefix\n            // Verify the token and get user\n            const { data: { user }, error: userError } = await supabaseAdmin.auth.getUser(token);\n            if (user) {\n                console.log(\"Authenticated user:\", {\n                    id: user.id,\n                    email: user.email\n                });\n                organizationId = user.user_metadata?.organization_id;\n            }\n        }\n        // Fallback: try to get from query parameter\n        if (!organizationId) {\n            const url = new URL(request.url);\n            organizationId = url.searchParams.get(\"org_id\");\n        }\n        if (!organizationId) {\n            console.error(\"No organization_id found\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No organization found - auth required\"\n            }, {\n                status: 401\n            });\n        }\n        // Get organization\n        const { data: org, error: orgError } = await supabaseAdmin.from(\"organizations\").select(\"*\").eq(\"id\", organizationId).single();\n        if (orgError) {\n            console.error(\"Error fetching organization:\", orgError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch organization\"\n            }, {\n                status: 500\n            });\n        }\n        // Get department heads with their diagnostic sessions (most recent first)\n        const { data: deptUsers, error: deptError } = await supabaseAdmin.from(\"users\").select(`\n        *,\n        diagnostic_sessions (\n          id, status, completion_percentage, created_at\n        )\n      `).eq(\"organization_id\", organizationId).eq(\"role\", \"department_head\");\n        if (deptError) {\n            console.error(\"Error fetching departments:\", deptError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch departments\"\n            }, {\n                status: 500\n            });\n        }\n        const departments = (deptUsers || []).map((u)=>{\n            // Sort sessions by created_at descending (most recent first)\n            const sessions = (u.diagnostic_sessions || []).sort((a, b)=>{\n                const dateA = new Date(a.created_at).getTime();\n                const dateB = new Date(b.created_at).getTime();\n                return dateB - dateA; // descending\n            });\n            const mostRecentSession = sessions[0];\n            return {\n                id: u.id,\n                name: u.name,\n                email: u.email,\n                department: u.department,\n                status: mostRecentSession?.status || \"not_started\",\n                progress: mostRecentSession?.completion_percentage || 0,\n                session_id: mostRecentSession?.id\n            };\n        });\n        console.log(\"Dashboard data - departments with sessions:\", departments.map((d)=>({\n                dept: d.department,\n                status: d.status,\n                progress: d.progress,\n                hasSession: !!d.session_id\n            })));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            organization: org,\n            departments\n        });\n    } catch (error) {\n        console.error(\"Error in dashboard-data:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kYXNoYm9hcmQtZGF0YS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDSDtBQUdyRCwwREFBMEQ7QUFDMUQsTUFBTUUsZ0JBQWdCRCxtRUFBWUEsQ0FDaENFLDBDQUFvQyxFQUNwQ0EsUUFBUUMsR0FBRyxDQUFDRSx5QkFBeUIsRUFDckM7SUFDRUMsTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGO0FBR0ssZUFBZUMsSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLHFEQUFxRDtRQUNyRCxNQUFNQyxhQUFhRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUV2QyxJQUFJQyxpQkFBZ0M7UUFFcEMsSUFBSUgsY0FBY0EsV0FBV0ksVUFBVSxDQUFDLFlBQVk7WUFDbEQsTUFBTUMsUUFBUUwsV0FBV00sU0FBUyxDQUFDLElBQUksMEJBQTBCO1lBRWpFLGdDQUFnQztZQUNoQyxNQUFNLEVBQ0pDLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQ2RDLE9BQU9DLFNBQVMsRUFDakIsR0FBRyxNQUFNcEIsY0FBY0ssSUFBSSxDQUFDZ0IsT0FBTyxDQUFDTjtZQUVyQyxJQUFJRyxNQUFNO2dCQUNSSSxRQUFRQyxHQUFHLENBQUMsdUJBQXVCO29CQUFFQyxJQUFJTixLQUFLTSxFQUFFO29CQUFFQyxPQUFPUCxLQUFLTyxLQUFLO2dCQUFDO2dCQUNwRVosaUJBQWlCSyxLQUFLUSxhQUFhLEVBQUVDO1lBQ3ZDO1FBQ0Y7UUFFQSw0Q0FBNEM7UUFDNUMsSUFBSSxDQUFDZCxnQkFBZ0I7WUFDbkIsTUFBTWUsTUFBTSxJQUFJQyxJQUFJcEIsUUFBUW1CLEdBQUc7WUFDL0JmLGlCQUFpQmUsSUFBSUUsWUFBWSxDQUFDbEIsR0FBRyxDQUFDO1FBQ3hDO1FBRUEsSUFBSSxDQUFDQyxnQkFBZ0I7WUFDbkJTLFFBQVFILEtBQUssQ0FBQztZQUNkLE9BQU9yQixxREFBWUEsQ0FBQ2lDLElBQUksQ0FDdEI7Z0JBQUVaLE9BQU87WUFBd0MsR0FDakQ7Z0JBQUVhLFFBQVE7WUFBSTtRQUVsQjtRQUVBLG1CQUFtQjtRQUNuQixNQUFNLEVBQUVmLE1BQU1nQixHQUFHLEVBQUVkLE9BQU9lLFFBQVEsRUFBRSxHQUFHLE1BQU1sQyxjQUMxQ21DLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxNQUFNeEIsZ0JBQ1R5QixNQUFNO1FBRVQsSUFBSUosVUFBVTtZQUNaWixRQUFRSCxLQUFLLENBQUMsZ0NBQWdDZTtZQUM5QyxPQUFPcEMscURBQVlBLENBQUNpQyxJQUFJLENBQ3RCO2dCQUFFWixPQUFPO1lBQStCLEdBQ3hDO2dCQUFFYSxRQUFRO1lBQUk7UUFFbEI7UUFFQSwwRUFBMEU7UUFDMUUsTUFBTSxFQUFFZixNQUFNc0IsU0FBUyxFQUFFcEIsT0FBT3FCLFNBQVMsRUFBRSxHQUFHLE1BQU14QyxjQUNqRG1DLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQ0wsQ0FBQzs7Ozs7TUFLSCxDQUFDLEVBRUFDLEVBQUUsQ0FBQyxtQkFBbUJ4QixnQkFDdEJ3QixFQUFFLENBQUMsUUFBUTtRQUVkLElBQUlHLFdBQVc7WUFDYmxCLFFBQVFILEtBQUssQ0FBQywrQkFBK0JxQjtZQUM3QyxPQUFPMUMscURBQVlBLENBQUNpQyxJQUFJLENBQ3RCO2dCQUFFWixPQUFPO1lBQThCLEdBQ3ZDO2dCQUFFYSxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNUyxjQUFjLENBQUNGLGFBQWEsRUFBRSxFQUFFRyxHQUFHLENBQUMsQ0FBQ0M7WUFDekMsNkRBQTZEO1lBQzdELE1BQU1DLFdBQVcsQ0FBQ0QsRUFBRUUsbUJBQW1CLElBQUksRUFBRSxFQUFFQyxJQUFJLENBQUMsQ0FBQ0MsR0FBUUM7Z0JBQzNELE1BQU1DLFFBQVEsSUFBSUMsS0FBS0gsRUFBRUksVUFBVSxFQUFFQyxPQUFPO2dCQUM1QyxNQUFNQyxRQUFRLElBQUlILEtBQUtGLEVBQUVHLFVBQVUsRUFBRUMsT0FBTztnQkFDNUMsT0FBT0MsUUFBUUosT0FBTyxhQUFhO1lBQ3JDO1lBRUEsTUFBTUssb0JBQW9CVixRQUFRLENBQUMsRUFBRTtZQUVyQyxPQUFPO2dCQUNMcEIsSUFBSW1CLEVBQUVuQixFQUFFO2dCQUNSK0IsTUFBTVosRUFBRVksSUFBSTtnQkFDWjlCLE9BQU9rQixFQUFFbEIsS0FBSztnQkFDZCtCLFlBQVliLEVBQUVhLFVBQVU7Z0JBQ3hCeEIsUUFBUXNCLG1CQUFtQnRCLFVBQVU7Z0JBQ3JDeUIsVUFBVUgsbUJBQW1CSSx5QkFBeUI7Z0JBQ3REQyxZQUFZTCxtQkFBbUI5QjtZQUNqQztRQUNGO1FBRUFGLFFBQVFDLEdBQUcsQ0FDVCwrQ0FDQWtCLFlBQVlDLEdBQUcsQ0FBQyxDQUFDa0IsSUFBTztnQkFDdEJDLE1BQU1ELEVBQUVKLFVBQVU7Z0JBQ2xCeEIsUUFBUTRCLEVBQUU1QixNQUFNO2dCQUNoQnlCLFVBQVVHLEVBQUVILFFBQVE7Z0JBQ3BCSyxZQUFZLENBQUMsQ0FBQ0YsRUFBRUQsVUFBVTtZQUM1QjtRQUdGLE9BQU83RCxxREFBWUEsQ0FBQ2lDLElBQUksQ0FBQztZQUN2QmdDLGNBQWM5QjtZQUNkUTtRQUNGO0lBQ0YsRUFBRSxPQUFPdEIsT0FBWTtRQUNuQkcsUUFBUUgsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT3JCLHFEQUFZQSxDQUFDaUMsSUFBSSxDQUN0QjtZQUFFWixPQUFPQSxNQUFNNkMsT0FBTyxJQUFJO1FBQXdCLEdBQ2xEO1lBQUVoQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25hemVlbS1lbnRlcnByaXNlLXBsYXRmb3JtLy4vc3JjL2FwcC9hcGkvZGFzaGJvYXJkLWRhdGEvcm91dGUudHM/NDhjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xuXG4vLyBDcmVhdGUgYWRtaW4gY2xpZW50IHdpdGggc2VydmljZSByb2xlIGtleSB0byBieXBhc3MgUkxTXG5jb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZISxcbiAge1xuICAgIGF1dGg6IHtcbiAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgICAgcGVyc2lzdFNlc3Npb246IGZhbHNlLFxuICAgIH0sXG4gIH1cbik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIGFjY2VzcyB0b2tlbiBmcm9tIHRoZSBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiYXV0aG9yaXphdGlvblwiKTtcblxuICAgIGxldCBvcmdhbml6YXRpb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICBpZiAoYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoXCJCZWFyZXIgXCIpKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpOyAvLyBSZW1vdmUgXCJCZWFyZXIgXCIgcHJlZml4XG5cbiAgICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gYW5kIGdldCB1c2VyXG4gICAgICBjb25zdCB7XG4gICAgICAgIGRhdGE6IHsgdXNlciB9LFxuICAgICAgICBlcnJvcjogdXNlckVycm9yLFxuICAgICAgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4uYXV0aC5nZXRVc2VyKHRva2VuKTtcblxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBdXRoZW50aWNhdGVkIHVzZXI6XCIsIHsgaWQ6IHVzZXIuaWQsIGVtYWlsOiB1c2VyLmVtYWlsIH0pO1xuICAgICAgICBvcmdhbml6YXRpb25JZCA9IHVzZXIudXNlcl9tZXRhZGF0YT8ub3JnYW5pemF0aW9uX2lkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrOiB0cnkgdG8gZ2V0IGZyb20gcXVlcnkgcGFyYW1ldGVyXG4gICAgaWYgKCFvcmdhbml6YXRpb25JZCkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBvcmdhbml6YXRpb25JZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwib3JnX2lkXCIpO1xuICAgIH1cblxuICAgIGlmICghb3JnYW5pemF0aW9uSWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBvcmdhbml6YXRpb25faWQgZm91bmRcIik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiTm8gb3JnYW5pemF0aW9uIGZvdW5kIC0gYXV0aCByZXF1aXJlZFwiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgb3JnYW5pemF0aW9uXG4gICAgY29uc3QgeyBkYXRhOiBvcmcsIGVycm9yOiBvcmdFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oXCJvcmdhbml6YXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLmVxKFwiaWRcIiwgb3JnYW5pemF0aW9uSWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAob3JnRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBvcmdhbml6YXRpb246XCIsIG9yZ0Vycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggb3JnYW5pemF0aW9uXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCBkZXBhcnRtZW50IGhlYWRzIHdpdGggdGhlaXIgZGlhZ25vc3RpYyBzZXNzaW9ucyAobW9zdCByZWNlbnQgZmlyc3QpXG4gICAgY29uc3QgeyBkYXRhOiBkZXB0VXNlcnMsIGVycm9yOiBkZXB0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKFwidXNlcnNcIilcbiAgICAgIC5zZWxlY3QoXG4gICAgICAgIGBcbiAgICAgICAgKixcbiAgICAgICAgZGlhZ25vc3RpY19zZXNzaW9ucyAoXG4gICAgICAgICAgaWQsIHN0YXR1cywgY29tcGxldGlvbl9wZXJjZW50YWdlLCBjcmVhdGVkX2F0XG4gICAgICAgIClcbiAgICAgIGBcbiAgICAgIClcbiAgICAgIC5lcShcIm9yZ2FuaXphdGlvbl9pZFwiLCBvcmdhbml6YXRpb25JZClcbiAgICAgIC5lcShcInJvbGVcIiwgXCJkZXBhcnRtZW50X2hlYWRcIik7XG5cbiAgICBpZiAoZGVwdEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZGVwYXJ0bWVudHM6XCIsIGRlcHRFcnJvcik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIGRlcGFydG1lbnRzXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGRlcGFydG1lbnRzID0gKGRlcHRVc2VycyB8fCBbXSkubWFwKCh1OiBhbnkpID0+IHtcbiAgICAgIC8vIFNvcnQgc2Vzc2lvbnMgYnkgY3JlYXRlZF9hdCBkZXNjZW5kaW5nIChtb3N0IHJlY2VudCBmaXJzdClcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gKHUuZGlhZ25vc3RpY19zZXNzaW9ucyB8fCBbXSkuc29ydCgoYTogYW55LCBiOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIGRhdGVCIC0gZGF0ZUE7IC8vIGRlc2NlbmRpbmdcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb3N0UmVjZW50U2Vzc2lvbiA9IHNlc3Npb25zWzBdO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdS5pZCxcbiAgICAgICAgbmFtZTogdS5uYW1lLFxuICAgICAgICBlbWFpbDogdS5lbWFpbCxcbiAgICAgICAgZGVwYXJ0bWVudDogdS5kZXBhcnRtZW50LFxuICAgICAgICBzdGF0dXM6IG1vc3RSZWNlbnRTZXNzaW9uPy5zdGF0dXMgfHwgXCJub3Rfc3RhcnRlZFwiLFxuICAgICAgICBwcm9ncmVzczogbW9zdFJlY2VudFNlc3Npb24/LmNvbXBsZXRpb25fcGVyY2VudGFnZSB8fCAwLFxuICAgICAgICBzZXNzaW9uX2lkOiBtb3N0UmVjZW50U2Vzc2lvbj8uaWQsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIkRhc2hib2FyZCBkYXRhIC0gZGVwYXJ0bWVudHMgd2l0aCBzZXNzaW9uczpcIixcbiAgICAgIGRlcGFydG1lbnRzLm1hcCgoZCkgPT4gKHtcbiAgICAgICAgZGVwdDogZC5kZXBhcnRtZW50LFxuICAgICAgICBzdGF0dXM6IGQuc3RhdHVzLFxuICAgICAgICBwcm9ncmVzczogZC5wcm9ncmVzcyxcbiAgICAgICAgaGFzU2Vzc2lvbjogISFkLnNlc3Npb25faWQsXG4gICAgICB9KSlcbiAgICApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG9yZ2FuaXphdGlvbjogb3JnLFxuICAgICAgZGVwYXJ0bWVudHMsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gZGFzaGJvYXJkLWRhdGE6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZUFkbWluIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiR0VUIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwib3JnYW5pemF0aW9uSWQiLCJzdGFydHNXaXRoIiwidG9rZW4iLCJzdWJzdHJpbmciLCJkYXRhIiwidXNlciIsImVycm9yIiwidXNlckVycm9yIiwiZ2V0VXNlciIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImVtYWlsIiwidXNlcl9tZXRhZGF0YSIsIm9yZ2FuaXphdGlvbl9pZCIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImpzb24iLCJzdGF0dXMiLCJvcmciLCJvcmdFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImRlcHRVc2VycyIsImRlcHRFcnJvciIsImRlcGFydG1lbnRzIiwibWFwIiwidSIsInNlc3Npb25zIiwiZGlhZ25vc3RpY19zZXNzaW9ucyIsInNvcnQiLCJhIiwiYiIsImRhdGVBIiwiRGF0ZSIsImNyZWF0ZWRfYXQiLCJnZXRUaW1lIiwiZGF0ZUIiLCJtb3N0UmVjZW50U2Vzc2lvbiIsIm5hbWUiLCJkZXBhcnRtZW50IiwicHJvZ3Jlc3MiLCJjb21wbGV0aW9uX3BlcmNlbnRhZ2UiLCJzZXNzaW9uX2lkIiwiZCIsImRlcHQiLCJoYXNTZXNzaW9uIiwib3JnYW5pemF0aW9uIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/dashboard-data/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tslib"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard-data%2Froute&page=%2Fapi%2Fdashboard-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard-data%2Froute.ts&appDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fashrafkholeif%2FProjects%2Fnzm%2Fnazeem-enterprise-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();